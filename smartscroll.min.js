!function(e){var o;"undefined"!=typeof Lethargy&&null!==Lethargy&&(o=new Lethargy);var t={mode:"vp",autoHash:!0,sectionScroll:!0,initialScroll:!0,keepHistory:!1,sectionWrapperSelector:".section-wrapper",sectionClass:"section",animationSpeed:500,headerHash:"header",breakpoint:null};e.smartscroll=function(i){this.validBreakPoint=!1,this.belowBreakpoint=!1,e.extend(t,i),null!==t.breakpoint&&t.breakpoint===parseInt(t.breakpoint,10)&&t.breakpoint>0&&(this.validBreakPoint=!0),"vp"==t.mode&&(e("."+t.sectionClass).css({height:e(window).height()}),e(window).bind("resize",function(){e("."+t.sectionClass).css({height:e(window).height()})})),e("."+t.sectionClass).css({overflow:"hidden"});var n=e("."+t.sectionClass).length,s=function(o){var i;if("vp"==t.mode)return i=-(e("."+t.sectionClass)[0].getBoundingClientRect().top/e(window).height()),o?Math.floor(i):Math.round(i);i=-1;var s,r,a=-e("."+t.sectionClass)[0].getBoundingClientRect().top+e(window).height()/2;if(0>a)return i;for(var l=0;n>l&&(i=l,!(n-1>l&&(s=e("."+t.sectionClass+":nth-of-type("+(l+1)+")")[0].offsetTop-e(t.sectionWrapperSelector+":first").position().top,r=e("."+t.sectionClass+":nth-of-type("+(l+2)+")")[0].offsetTop-e(t.sectionWrapperSelector+":first").position().top,a>=s&&r>a)));l++);return i},r=function(o,t){e("body,html").stop(!0,!0).animate({scrollTop:o},t,function(){a=!1})};if(t.sectionScroll){this.validBreakPoint&&e(window).bind("resize",function(){if(e(window).width()<t.breakpoint){if(!this.belowBreakpoint)return d(),this.belowBreakpoint=!0,!1}else this.belowBreakpoint&&(h(),this.belowBreakpoint=!1)});var a=!1,l=function(o){a=!0;var i,s=0;if(0>o)i=e(t.sectionWrapperSelector+":first").position().top-53;else{if(o>=n)return a=!1,!1;i=e("."+t.sectionClass+":nth-of-type("+(o+1)+")")[0].offsetTop,s=t.animationSpeed}return r(i,s),!1},c=function(){l(s()-1)},p=function(){l(s()+1)},h=function(){e(window).bind("mousewheel DOMMouseScroll",function(i){if(Math.max(window.document.body.scrollTop,document.documentElement.scrollTop)>=e(t.sectionWrapperSelector+":first").position().top){var n;if(o&&(n=o.check(i)),i.preventDefault(),i.stopPropagation(),!a)if(o&&1===n)c();else if(o&&-1===n)p();else{if(o&&n===!1)return!1;i.originalEvent.wheelDelta>0||i.originalEvent.detail<0?c():(i.originalEvent.wheelDelta<0||i.originalEvent.detail>0)&&p()}return!1}})},d=function(){e(window).unbind("mousewheel DOMMouseScroll")};h()}var f=window.location.hash;if(t.autoHash&&e(window).bind("scroll",function(){var o=e("."+t.sectionClass+":nth-of-type("+(s(!0)+1)+")").data("hash");("undefined"==typeof o||window.location.hash!=="#"+o)&&("undefined"==typeof o&&(o=t.headerHash),t.keepHistory?window.location.hash=o:window.location.replace(window.location.href.split("#")[0]+"#"+o))}),t.initialScroll&&f.length>0){var w=e('[data-hash="'+f.substr(1)+'"]');w.length>0&&r(w[0].offsetTop,0)}}}(jQuery);